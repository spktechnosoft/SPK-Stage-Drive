function SgContactForm(popupId){contactFrontend=eval('contactFrontend'+popupId);this.newWindow=null;}
SgContactForm.prototype.changeDimensionMode=function(dimension){var size;size=parseInt(dimension)+"px";if(dimension.indexOf("%")!=-1||dimension.indexOf("px")!=-1){size=dimension;}
return size;};SgContactForm.prototype.toggleVisible=function(toggleElement,elementStatus){if(elementStatus){toggleElement.css({'display':'block'});}
else{toggleElement.css({'display':'none'});}};SgContactForm.prototype.binding=function(){var that=this;jQuery(".js-checkbox-acordion").bind('click',function(){var isCecked=jQuery(this).is(":checked");var elementClassName=jQuery(this).attr("data-contact-rel");var element=jQuery("."+elementClassName+"");that.toggleVisible(element,isCecked);});jQuery(".js-checkbox-acordion").each(function(){var isCecked=jQuery(this).is(":checked");var elementClassName=jQuery(this).attr("data-contact-rel");var element=jQuery("."+elementClassName+"");that.toggleVisible(element,isCecked);})};SgContactForm.prototype.changeBorderWidth=function(){var that=this;jQuery('[name="contact-inputs-border-width"]').change(function(){var value=jQuery(this).val();var className=jQuery(this).attr('data-contact-rel');that.setupBorderWidth(className,value);});};SgContactForm.prototype.changeInputsWIdth=function(){var that=this;jQuery('[name="contact-inputs-width"]').change(function(){var value=jQuery(this).val();var classname=jQuery(this).attr('data-contact-rel');that.addInputWidth(classname,value);});};SgContactForm.prototype.changeInputsHight=function(){var that=this;jQuery('[name="contact-inputs-height"]').change(function(){var value=jQuery(this).val();var className=jQuery(this).attr('data-contact-rel');that.addInputsHeight(className,value);})};SgContactForm.prototype.changeBtnWidth=function(){var that=this;jQuery('[name="contact-btn-width"]').change(function(){var value=jQuery(this).val();var className=jQuery(this).attr('data-contact-rel');that.addInputWidth(className,value);});};SgContactForm.prototype.changeBtnHeight=function(){var that=this;jQuery('[name="contact-btn-height"]').change(function(){var value=jQuery(this).val();var className=jQuery(this).attr('data-contact-rel');that.addInputsHeight(className,value);});};SgContactForm.prototype.changeAreaWidth=function(){var that=this;jQuery('[name="contact-area-width"]').change(function(){var value=jQuery(this).val();var className=jQuery(this).attr('data-contact-rel');that.addInputWidth(className,value);});};SgContactForm.prototype.changeAreaHeight=function(){var that=this;jQuery('[name="contact-area-height"]').change(function(){var value=jQuery(this).val();var className=jQuery(this).attr('data-contact-rel');that.addInputsHeight(className,value);});};SgContactForm.prototype.changeTextAreaWidth=function(){var that=this;jQuery('contact-area-width').change(function(){var value=jQuery(this).val();var className=jQuery(this).attr('data-contact-rel');that.addInputWidth(className,value);})};SgContactForm.prototype.changeTextAreaHeight=function(){var that=this;jQuery('contact-area-height').change(function(){var value=jQuery(this).val();var className=jQuery(this).attr('data-contact-rel');that.addInputsHeight(className,value);})};SgContactForm.prototype.textAreaResizeState=function(){var that=this;jQuery('[name="sg-contact-resize"]').change(function(){var value=jQuery(this).val();that.addTextAreastatState(value);});};SgContactForm.prototype.changeLabels=function(){jQuery(".sg-contact-fileds[data-contact-rel]").each(function(){jQuery(this).bind("input",function(){var className=jQuery(this).attr("data-contact-rel");var placeholderText=jQuery(this).val();jQuery("."+className).attr("placeholder",placeholderText);});});};SgContactForm.prototype.changeButtonTitle=function(){var that=this;jQuery("[name='contact-btn-title']").bind('input',function(){var className=jQuery(this).attr("data-contact-rel");var val=jQuery(this).val();that.setupButtonText("."+className,val);});jQuery("[name='contact-btn-title']").trigger('input');};SgContactForm.prototype.fieldsColor=function(element){var color=element.val();var classname=element.attr('data-contact-rel');this.setupBackgroundColor("."+classname,color);var textAreaClass=element.attr('data-contact-area-rel');this.setupBackgroundColor("."+textAreaClass,color);};SgContactForm.prototype.fieldsBorderColor=function(element){var color=element.val();var classname=element.attr('data-contact-rel');this.setupBorderColor('.'+classname,color);var textAreaClass=element.attr('data-contact-area-rel');this.setupBorderColor('.'+textAreaClass,color);};SgContactForm.prototype.buttonTextColor=function(element){var color=element.val();var classname=element.attr('data-contact-rel');this.setupButtonColor("."+classname,color);var textAreaClass=element.attr('data-contact-area-rel');this.setupButtonColor("."+textAreaClass,color);};SgContactForm.prototype.placeholderColor=function(element){var color=element.val();var classname=element.attr('data-contact-rel');var textAreaClass=element.attr('data-contact-area-rel');var classes=[classname,textAreaClass];this.setupPlaceholderColor(classes,color);};SgContactForm.prototype.colorpickerChange=function(){var that=this;jQuery('.sg-contact-btn-color').wpColorPicker({change:function(){var sgColorpicker=jQuery(this);that.fieldsColor(sgColorpicker);}});jQuery('.sg-contact-btn-border-color').wpColorPicker({change:function(){var sgColorpicker=jQuery(this);that.fieldsBorderColor(sgColorpicker);}});jQuery('.sg-contact-btn-text-color').wpColorPicker({change:function(){var sgColorpicker=jQuery(this);that.buttonTextColor(sgColorpicker);}});jQuery('.sg-contact-placeholder-color').wpColorPicker({change:function(){var sgColorpicker=jQuery(this);that.placeholderColor(sgColorpicker);}});jQuery(".wp-picker-holder").each(function(){jQuery(this).bind('click',function(){var buttonColor=jQuery(this).prev().find('.sg-contact-btn-text-color');var inputsBorderColor=jQuery(this).prev().find('.sg-contact-btn-border-color');var inputsColor=jQuery(this).prev().find('.sg-contact-btn-color');var placeholderColor=jQuery(this).prev().find('.sg-contact-placeholder-color');if(buttonColor.length){that.buttonTextColor(buttonColor);}
if(inputsBorderColor.length){that.fieldsBorderColor(inputsBorderColor);}
if(inputsColor.length){that.fieldsColor(inputsColor);}
if(placeholderColor.length){that.placeholderColor(placeholderColor)}});});};SgContactForm.prototype.setupBackgroundColor=function(element,color){jQuery(element).each(function(){jQuery(this).css({'background':color});});};SgContactForm.prototype.setupBorderColor=function(element,color){jQuery(element).each(function(){jQuery(this).css({'border-color':color});});};SgContactForm.prototype.setupButtonColor=function(element,color){jQuery(element).css({'color':color});};SgContactForm.prototype.setupButtonText=function(element,value){jQuery(element).val(value);};SgContactForm.prototype.setupPlaceholderColor=function(elements,color){var styleContent='';for(var elementIndex in elements){var elementSelector=elements[elementIndex];jQuery("."+elementSelector).each(function(){jQuery("#sg-placeholder-style").remove();styleContent+='.'+elementSelector+'::-webkit-input-placeholder {color: '+color+';} .'+elementSelector+'::-moz-placeholder {color: '+color+';} .'+elementSelector+':-ms-input-placeholder {color:$sgSubsPlaceholderColor;}';});var styleBlock='<style id="sg-placeholder-style">'+styleContent+'</style>';jQuery('head').append(styleBlock);}};SgContactForm.prototype.addInputWidth=function(classname,width){var width=this.changeDimensionMode(width);jQuery("."+classname).each(function(){jQuery(this).css({"width":width,'maxWidth':'100%'});});};SgContactForm.prototype.setupBorderWidth=function(className,value){var value=parseInt(value)+"px";jQuery("."+className).css({'border-width':value});};SgContactForm.prototype.addInputsHeight=function(className,value){var height=this.changeDimensionMode(value);jQuery("."+className).each(function(){jQuery(this).css({"height":height});});};SgContactForm.prototype.addTextAreastatState=function(value){jQuery('.js-contact-text-area').css({'resize':value});};SgContactForm.prototype.shake=function(){jQuery.fn.shake=function(interval,distance,times){interval=typeof interval=="undefined"?100:interval;distance=typeof distance=="undefined"?10:distance;times=typeof times=="undefined"?3:times;var jTarget=jQuery(this);jTarget.css('position','relative');for(var iter=0;iter<(times+1);iter++){jTarget.animate({left:((iter%2==0?distance:distance*-1))},interval);}
return jTarget.animate({left:0},interval);}};SgContactForm.prototype.addFieldsColor=function(){var placeholderClasses=['js-contact-text-area','js-contact-text-inputs'];this.setupPlaceholderColor(placeholderClasses,contactFrontend.placeholderColor);this.setupButtonColor('.js-contact-submit-btn',contactFrontend.btnTextColor);this.setupButtonColor('.js-contact-text-inputs',contactFrontend.inputsColor);this.setupButtonColor('.js-contact-text-area',contactFrontend.inputsColor);this.setupBackgroundColor('.js-contact-submit-btn',contactFrontend.btnBackgroundColor);this.setupBackgroundColor('.js-contact-text-inputs',contactFrontend.inputsBackgroundColor);this.setupBackgroundColor('.js-contact-text-area',contactFrontend.inputsBackgroundColor);this.setupBorderColor('.js-contact-text-inputs',contactFrontend.inputsBorderColor);this.setupBorderColor('.js-contact-text-area',contactFrontend.inputsBorderColor);};SgContactForm.prototype.addFieldsDiemntions=function(){this.addInputWidth('js-contact-text-inputs',contactFrontend.inputsWidth);this.setupBorderWidth('js-contact-text-inputs',contactFrontend.contactInputsBorderWidth);this.setupBorderWidth('js-contact-text-area',contactFrontend.contactInputsBorderWidth);this.addInputsHeight('js-contact-text-inputs',contactFrontend.inputsHeight);this.addInputWidth('js-contact-submit-btn',contactFrontend.buttnsWidth);this.addInputsHeight('js-contact-submit-btn',contactFrontend.buttonHeight);this.addInputWidth('js-contact-text-area',contactFrontend.contactAreaWidth);this.addInputsHeight('js-contact-text-area',contactFrontend.contactAreaHeight);this.addTextAreastatState(contactFrontend.contactResize)};SgContactForm.prototype.sgWpAjax=function(){var that=this;var textWidth=contactFrontend.inputsWidth;var validationMessage=contactFrontend.validateMessage;var isNameRequired=contactFrontend.sgContactNameRequired;var isSubjectRequired=contactFrontend.sgContactSubjectRequired;if(!jQuery('.sgpb-contact-form').length){}
jQuery('.sgpb-contact-form').each(function(){jQuery(this).on('submit',function(event){event.preventDefault();var thisForm=jQuery(this);var requeiredFields=[];var sgContactData=jQuery(this).serialize();var receiveMail=contactFrontend.receiveEmail;var popupTitle=contactFrontend.popupTitle;var email=jQuery(this).find(".js-contact-email").val();var validate=email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,10})+$/);jQuery(this).find('.js-validate-required').each(function(){jQuery(this).addClass('sg-js-hide');});jQuery(this).find('.sg-contact-required').each(function(){if(jQuery(this).val()==''){if(isNameRequired==''&&jQuery(this).attr('name')=='contact-name'){return;}
if(isSubjectRequired==''&&jQuery(this).attr('name')=='contact-subject'){return;}
requeiredFields.push(jQuery(this));jQuery(this).nextAll('.js-requierd-style').first().removeClass('sg-js-hide');}});if(!validate&&email!=''){jQuery(this).find('.js-contact-email').shake();jQuery(this).find('.js-validate-email').removeClass('sg-js-hide');jQuery(this).find('.js-validate-email').css({'width':textWidth,'margin':'0px auto 5px auto','font-size':'12px','color':'red','display':'block'});return;}
if(requeiredFields.length!=0){return;}
var contactNonceString=jQuery(this).find('.js-contact-nonce-string').val();var data={action:'contact_send_mail',contactSecurity:contactNonceString,beforeSend:function(){if(contactFrontend.sgContactSuccessBehavior=='redirectToUrl'&&contactFrontend.contactSuccessRedirectNewTab){that.newWindow=window.open(contactFrontend.sgContactSuccessRedirectUrl);}
thisForm.find('.js-contact-submit-btn').val(contactFrontend.procesingTitle).first().attr('disabled','disabled');},contactParams:sgContactData,receiveMail:receiveMail,popupTitle:popupTitle};jQuery.post(contactFrontend.ajaxurl,data,function(response){var submitButton=thisForm.find('.js-contact-submit-btn');var errorMessage=thisForm.prev("#sg-contact-faild");submitButton.val(submitButton.attr('data-value'));submitButton.removeAttr('disabled');if(response==true){errorMessage.addClass('sg-js-hide');that.sgpbContactSuccess(thisForm);}
else{if(that.newWindow){that.newWindow.close();}
errorMessage.removeClass('sg-js-hide');}});});});};SgContactForm.prototype.sgpbContactSuccess=function(thisForm){var that=this;var behavior=contactFrontend.sgContactSuccessBehavior;var openPopupStatus=false;var redirectToNewTab=contactFrontend.contactSuccessRedirectNewTab;var submitButton=thisForm.find('.js-contact-submit-btn').first();submitButton.val(contactFrontend.submitButtonTitle).removeAttr('disabled');switch(behavior){case'showMessage':thisForm.css({'display':'none'});jQuery('#sgcboxLoadedContent').find('.sg-contact-success').first().removeClass('sg-js-hide');jQuery.sgcolorbox.resize();that.dontShowContactedUsers();break;case'redirectToUrl':that.dontShowContactedUsers();if(!redirectToNewTab){window.location=contactFrontend.sgContactSuccessRedirectUrl;jQuery.sgcolorbox.close();}
break;case'openPopup':jQuery.sgcolorbox.close();jQuery('#sgcolorbox').bind("sgPopupClose",function(){var sgPopupID=contactFrontend.sgContactSuccessPopupsList;var parentPopupId=contactFrontend.popupId;if(sgPopupID==''||openPopupStatus||parentPopupId==sgPopupID){return;}
openPopupStatus=true;var sgPoupFrontendObj=new SGPopup();sgPoupFrontendObj.showPopup(sgPopupID,false);});that.dontShowContactedUsers();break;case'hidePopup':jQuery.sgcolorbox.close();that.dontShowContactedUsers();break;}};SgContactForm.prototype.dontShowContactedUsers=function(){if(contactFrontend.sgDontShowContentToContactedUser!='on'){return;}
SGPopup.setToPopupsCookiesList('SGContactPopup');var id=contactFrontend.popupId;var expirationDate=contactFrontend.sgContactSuccessFrequencyDays;expirationDate=parseInt(expirationDate);SGPopup.setCookie('SGContactPopup'+id,id,expirationDate,true);};SgContactForm.prototype.fieldsStylesViaJs=function(){this.addFieldsColor();this.addFieldsDiemntions();};SgContactForm.prototype.buildStyle=function(){this.resetForm();this.shake();this.sgWpAjax();};SgContactForm.prototype.resetForm=function(){jQuery('.sgpb-contact-form').each(function(){jQuery(this).show();});jQuery('.sg-contact-success').each(function(){if(!jQuery(this).hasClass('sg-js-hide')){jQuery(this).addClass('sg-js-hide');}});};SgContactForm.prototype.livePreview=function(){this.changeLabels();this.changeButtonTitle();this.colorpickerChange();this.changeBorderWidth();this.changeInputsWIdth();this.changeInputsHight();this.changeBtnWidth();this.changeBtnHeight();this.changeAreaWidth();this.changeAreaHeight();this.changeTextAreaWidth();this.changeTextAreaHeight();this.textAreaResizeState();this.binding();};