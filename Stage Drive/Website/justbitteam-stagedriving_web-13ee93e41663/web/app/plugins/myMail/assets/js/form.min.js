jQuery(document).ready(function(a){a("body").on("submit.mymail","form.mymail-ajax-form",function(d){d.preventDefault();var b=a(this),e=b.serialize(),f=a('<div class="mymail-form-info"></div>'),g;if(a.isFunction(window.mymail_pre_submit)){g=window.mymail_pre_submit.call(this,e);if(g===false){return false}if(typeof g!=="undefined"){e=g}}b.addClass("loading").find(".submit-button").prop("disabled",true);a.post(b.attr("action"),e,function(c){b.removeClass("loading has-errors").find("div.mymail-wrapper").removeClass("error");b.find(".mymail-form-info").remove();if(a.isFunction(window.mymail_post_submit)){g=window.mymail_post_submit.call(b[0],c);if(g===false){return false}if(typeof g!=="undefined"){c=g}}b.find(".submit-button").prop("disabled",false);f.html(c.html).prependTo(b);if(c.success){if(!b.is(".is-profile")){b.find(".mymail-form-fields").slideUp(100).find(".mymail-wrapper").find(":input").prop("disabled",true).filter(".input").val("")}(c.redirect)?location.href=c.redirect:f.show().addClass("success")}else{if(c.fields){a.each(c.fields,function(h){b.addClass("has-errors").find(".mymail-"+h+"-wrapper").addClass("error")})}f.show().addClass("error")}},"JSON")})});